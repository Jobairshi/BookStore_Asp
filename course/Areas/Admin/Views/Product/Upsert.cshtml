@model Product

<form method="post" asp-action="Upsert" enctype="multipart/form-data"> @*enctype to to uplaod data or picture insside code*@
	<input asp-for="Id" hidden />
	<input asp-for="ImageUrl" hidden />
		<div class = "row">
			<div class="col-10">
				<div class="row p-3 mt-4 row">
		 <div class="col-12 pb-2">

			 <h2 class ="text-primary">@(Model.Id !=0?"Update":"Create")  Product</h2>
			 <hr />
		 </div>
		@* <div asp-validation-summary="All"></div>*@ @*to show all the error in one place*@
		 <div class="mb-3">
			 <label asp-for="Title"></label> @* //here asp-for is used to acces the db table in here*@ 
			 <input asp-for="Title" class="form-control" /> @*// it is for textBox*@
			 <span asp-validation-for="Title"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		   <div class="mb-3">
			 <label asp-for="Description"></label> @* //here asp-for is used to acces the db table in here*@ 
			 <textarea asp-for="Description"rows="3" class="form-control"></textarea> @*for big textbox*@
			 <span asp-validation-for="Description"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		  <div class="mb-3 col-6">
			 <label asp-for="ISBN"></label> @* //here asp-for is used to acces the db table in here*@ 
			 <input asp-for="ISBN" class="form-control" /> @*// it is for textBox*@
			 <span asp-validation-for="ISBN"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		  <div class="mb-3 col-6">
			 <label asp-for="Author"></label> @* //here asp-for is used to acces the db table in here*@ 
			 <input asp-for="Author" class="form-control" /> @*// it is for textBox*@
			 <span asp-validation-for="Author"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		  <div class="mb-3 col-6">
			 <label asp-for="ListPrice"></label> @* //here asp-for is used to acces the db table in here*@ 
			 <input asp-for="ListPrice" class="form-control" /> @*// it is for textBox*@
			 <span asp-validation-for="ListPrice"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		  <div class="mb-3 col-6">
			 <label asp-for="Price"></label> @* //here asp-for is used to acces the db table in here*@ 
			 <input asp-for="Price" class="form-control" /> @*// it is for textBox*@
			 <span asp-validation-for="Price"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		  <div class="mb-3 col-6">
			 <label asp-for="Price50"></label> @* //here asp-for is used to acces the db table in here*@ 
			 <input asp-for="Price50" class="form-control" /> @*// it is for textBox*@
			 <span asp-validation-for="Price50"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		   <div class="mb-3 col-6">
			 <label asp-for="Price100"></label> @* //here asp-for is used to acces the db table in here*@ 
			 <input asp-for="Price100" class="form-control" /> @*// it is for textBox*@
			 <span asp-validation-for="Price100"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		   <div class="mb-3">
			 <label asp-for="ImageUrl"></label> @* //here asp-for is used to acces the db table in here*@ 
			 <input type="file" name="file" id = "UploadBox" class="form-control" /> @*For file url*@
			
		 </div>
		 <div class="mb-3 col-6">
			 <label asp-for="CategoryId"></label> @* //here asp-for is used to acces the db table in here*@ 
		      <select asp-for="CategoryId" asp-items="ViewBag.CategoryList"class="form-select">

				  <option disabled selected>--Select Category--</option>

			  </select>
			 <span asp-validation-for="CategoryId"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		  <div class="mb-3 col-6">
			 <label asp-for="CoverTypeId"></label> @* //here asp-for is used to acces the db table in here*@ 
		      <select asp-for="CoverTypeId" asp-items="ViewBag.CoverList"class="form-select">

				  <option disabled selected>--Select CoverType--</option>

			  </select>
			 <span asp-validation-for="CategoryId"class="text-danger"> @*is textbox is empty it will give erro msg*@

			 </span>
		 </div>
		   <div class = "col-12" style = "margin-left:0px;">
			   @if(Model.Id != 0)
			{
				<button tpye="submit" class="btn btn-primary" style="margin-left:14px; width:150px">Update</button>
			}
			else
			{
				 <button tpye="submit"onclick="return ValidateInput()" class="btn btn-primary" style="margin-left:14px; width:150px">Create</button>
			}

		 <a asp-controller="Product" asp-action="Index" class="btn btn-secondary"style="margin-left:20px; width:150px"> @*//Bacl button*@
	          Back To List
		 </a>
		 </div>
	 </div>
			</div>
			<div class="col-2" style="color:red;">
			            	
				<img src ="@Model.ImageUrl"
				width="340" height="400" style="border-radius:5px;border:2px solid #bbb9b9" />
			@*	<div style="color:white;width:800px;height:50px">
					@Model.ImageUrl
				</div>*@
			</div>
		</div>

</form>
@section Scripts{ @*// no to refresh when we dont do anything just click the button*@
 @{
	<partial name="_ValidationScriptsPartial" />
  }
  <script>
  
    tinymce.init({ 
      selector: 'textarea',
      plugins: 'a11ychecker advcode casechange export formatpainter linkchecker autolink lists checklist media mediaembed pageembed permanentpen powerpaste table advtable tinycomments tinymcespellchecker',
      toolbar: 'a11ycheck addcomment showcomments casechange checklist code export formatpainter pageembed permanentpen table',
      toolbar_mode: 'floating',
      tinycomments_mode: 'embedded',
      tinycomments_author: 'Author name',
    });

  function ValidateInput()
  {
	  if(docoument.getElementById("UploadBox").Value != "")
	  {
		  Swal.fire({
          icon: 'error',
          title: 'Oops...',
          text: 'Please Upload and Image!',
         
          })
		  return true;
	  }
	  return false;
	
  }
  </script>
}


